<!DOCTYPE html><html lang="en" class="bg-gradient-to-br from-green-100 via-white to-green-200 text-green-900">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SmartStat: Interactive Statistical Analysis</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@2.0.1"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
</head>
<body class="p-4 md:p-6 font-sans min-h-screen">
  <div class="container mx-auto">
    <h1 class="text-3xl font-bold text-center mb-6">ðŸ“Š SmartStat: Upload & Analyze</h1>
    <input type="file" id="fileInput" accept=".csv,.xlsx" class="mb-4 border p-2" />
    <button onclick="runAnalysis()" class="bg-green-600 text-white px-4 py-2 rounded">Run Analysis</button><div id="output" class="mt-6 space-y-4"></div>

  </div>  <script>
    function runAnalysis() {
      const file = document.getElementById('fileInput').files[0];
      if (!file) return alert("Please select a file.");

      const reader = new FileReader();
      const isCSV = file.name.endsWith('.csv');

      if (isCSV) {
        Papa.parse(file, {
          header: true,
          complete: function(results) {
            processData(results.data);
          }
        });
      } else {
        reader.onload = function (e) {
          const data = new Uint8Array(e.target.result);
          const workbook = XLSX.read(data, { type: "array" });
          const sheetName = workbook.SheetNames[0];
          const worksheet = workbook.Sheets[sheetName];
          const jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1 });
          processData(jsonData.slice(1), jsonData[0]);
        };
        reader.readAsArrayBuffer(file);
      }
    }

    function processData(data, headers = null) {
      const output = document.getElementById('output');
      output.innerHTML = '';

      // Display summary statistics (mean, min, max)
      const numericData = {};
      if (!headers) headers = Object.keys(data[0]);
      headers.forEach(h => numericData[h] = []);

      data.forEach(row => {
        headers.forEach(h => {
          let val = row[h] ?? row[headers.indexOf(h)];
          let num = parseFloat(val);
          if (!isNaN(num)) numericData[h].push(num);
        });
      });

      const summary = document.createElement('div');
      summary.innerHTML = '<h2 class="text-xl font-semibold">Descriptive Statistics</h2>';
      headers.forEach(h => {
        const values = numericData[h];
        if (values.length) {
          const mean = (values.reduce((a,b)=>a+b,0)/values.length).toFixed(2);
          const min = Math.min(...values).toFixed(2);
          const max = Math.max(...values).toFixed(2);
          summary.innerHTML += `<p><strong>${h}</strong>: Mean = ${mean}, Min = ${min}, Max = ${max}</p>`;
        }
      });
      output.appendChild(summary);
    }
  </script></body>
</html>
